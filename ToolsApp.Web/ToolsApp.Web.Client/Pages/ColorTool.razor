@page "/color-tool"
@rendermode InteractiveAuto

<ToolHeader HeaderText="@title" />

<ColorList colors="@colors" OnDeleteColor="@DeleteColor"/>
<ColorForm ButtonText="Add Color" OnSubmitColor="@AddColor" />

@code {
    string title = "Color Tool";

    List<IColor> colors = new List<IColor>
    {
        new Color { Id=1, Name = "red", HexCode="ff0000" },
        new Color { Id=2,Name = "green", HexCode="00ff00" },
        new Color { Id=3,Name = "blue", HexCode="0000ff" },
    };

    private void AddColor(INewColor newColor)
    {
        colors.Add(new Color
            {
                Id = colors.Any() ? colors.Max(c => c.Id) + 1 : 1,
                Name = newColor.Name,
                HexCode = newColor.HexCode
            });
    }

    private void DeleteColor(int ColorId)
    {
        colors.RemoveAll(c => c.Id == ColorId);
    }
}
